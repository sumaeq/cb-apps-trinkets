# Utility functions and methods
These are just some generic util functions and trinkets to help with app development.

&nbsp;

## Parse int safely
Use this in combination with `isNaN()` to parse user-provided numbers without crashes.
```javascript
const parseIntSafe = (a) => {
  try {
    return parseInt(a);
  } catch(err) {
    return NaN;
  }
}
```

## Seconds and milliseconds to HH:MM:SS
```javascript
function nollify(n) {
  return `${n < 10 ? `0${n}` : n}`;
}

function secondsToHHMMSS(s) {
  return [
    nollify(((s - s % 3600) / 3600) % 60),
    nollify(((s - s % 60) / 60) % 60),
    nollify(s % 60)
  ].join(':');
}

function millisToHHMMSS(s) {
  return secondsToHHMMSS(Math.floor(s/1000));
}
```

&nbsp;

## Common regex patterns

### Matching fancy Unicode fonts
These are commonly used by spambots
```javascript
const MATH_LETTER_MATCH = /[\u{1D400}-\u{1D7FF}]/gu;
```

### Matching emojis
```javascript
const EMOJI_MATCH = /\p{Emoji}/gu;
```

### Matching an email address (simple)
```javascript
const EMAIL_MATCH = /([a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gmi;
```

### Matching (most) Cyrillic letters (Russian)
```javascript
const CYRILLIC_MATCH = /[ÐÐ°Ð‘Ð±Ð’Ð²Ð“Ð³Ð”Ð´Ð•ÐµÐÑ‘Ð–Ð¶Ð—Ð·Ð˜Ð¸Ð™Ð¹ÐšÐºÐ›Ð»ÐœÐ¼ÐÐ½ÐžÐ¾ÐŸÐ¿Ð Ñ€Ð¡ÑÐ¢Ñ‚Ð£ÑƒÐ¤Ñ„Ð¥Ñ…Ð¦Ñ†Ð§Ñ‡Ð¨ÑˆÐ©Ñ‰ÐªÑŠÐ«Ñ‹Ð¬ÑŒÐ­ÑÐ®ÑŽÐ¯Ñ]/gumi;
```

### Matching an URL
```javascript
const URL_MATCH = /(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gmi;
```

&nbsp;

## Fancy Unicode fonts
Use `getFont(fontId, text)` to display any text in one of the fancy fonts, for example `getFont('calligraphy', 'Tip Menu')`.
```javascript
const FONTS = {
  calligraphy: `ð”„ ð”… â„­ ð”‡ ð”ˆ ð”‰ ð”Š â„Œ â„‘ ð” ð”Ž ð” ð” ð”‘ ð”’ ð”“ ð”” â„œ ð”– ð”— ð”˜ ð”™ ð”š ð”› ð”œ â„¨ ð”ž ð”Ÿ ð”  ð”¡ ð”¢ ð”£ ð”¤ ð”¥ ð”¦ ð”§ ð”¨ ð”© ð”ª ð”« ð”¬ ð”­ ð”® ð”¯ ð”° ð”± ð”² ð”³ ð”´ ð”µ ð”¶ ð”· 0 1 2 3 4 5 6 7 8 9`,
  calligraphy_bold: `ð•¬ ð•­ ð•® ð•¯ ð•° ð•± ð•² ð•³ ð•´ ð•µ ð•¶ ð•· ð•¸ ð•¹ ð•º ð•» ð•¼ ð•½ ð•¾ ð•¿ ð–€ ð– ð–‚ ð–ƒ ð–„ ð–… ð–† ð–‡ ð–ˆ ð–‰ ð–Š ð–‹ ð–Œ ð– ð–Ž ð– ð– ð–‘ ð–’ ð–“ ð–” ð–• ð–– ð–— ð–˜ ð–™ ð–š ð–› ð–œ ð– ð–ž ð–Ÿ 0 1 2 3 4 5 6 7 8 9`,
  script: `ð“ ð“‘ ð“’ ð““ ð“” ð“• ð“– ð“— ð“˜ ð“™ ð“š ð“› ð“œ ð“ ð“ž ð“Ÿ ð“  ð“¡ ð“¢ ð“£ ð“¤ ð“¥ ð“¦ ð“§ ð“¨ ð“© ð“ª ð“« ð“¬ ð“­ ð“® ð“¯ ð“° ð“± ð“² ð“³ ð“´ ð“µ ð“¶ ð“· ð“¸ ð“¹ ð“º ð“» ð“¼ ð“½ ð“¾ ð“¿ ð”€ ð” ð”‚ ð”ƒ 0 1 2 3 4 5 6 7 8 9`,
  script_bold: `ð’œ ðµ ð’ž ð’Ÿ ð¸ ð¹ ð’¢ ð» ð¼ ð’¥ ð’¦ ð¿ ð‘€ ð’© ð’ª ð’« ð’¬ ð‘… ð’® ð’¯ ð’° ð’± ð’² ð’³ ð’´ ð’µ ð’¶ ð’· ð’¸ ð’¹ ð‘’ ð’» ð‘” ð’½ ð’¾ ð’¿ ð“€ ð“ ð“‚ ð“ƒ ð‘œ ð“… ð“† ð“‡ ð“ˆ ð“‰ ð“Š ð“‹ ð“Œ ð“ ð“Ž ð“ ðŸ¢ ðŸ£ ðŸ¤ ðŸ¥ ðŸ¦ ðŸ§ ðŸ¨ ðŸ© ðŸª ðŸ«`,
  double: `ð”¸ ð”¹ â„‚ ð”» ð”¼ ð”½ ð”¾ â„ ð•€ ð• ð•‚ ð•ƒ ð•„ â„• ð•† â„™ â„š â„ ð•Š ð•‹ ð•Œ ð• ð•Ž ð• ð• â„¤ ð•’ ð•“ ð•” ð•• ð•– ð•— ð•˜ ð•™ ð•š ð•› ð•œ ð• ð•ž ð•Ÿ ð•  ð•¡ ð•¢ ð•£ ð•¤ ð•¥ ð•¦ ð•§ ð•¨ ð•© ð•ª ð•« ðŸ˜ ðŸ™ ðŸš ðŸ› ðŸœ ðŸ ðŸž ðŸŸ ðŸ  ðŸ¡`,
  wide: `ï¼¡ ï¼¢ ï¼£ ï¼¤ ï¼¥ ï¼¦ ï¼§ ï¼¨ ï¼© ï¼ª ï¼« ï¼¬ ï¼­ ï¼® ï¼¯ ï¼° ï¼± ï¼² ï¼³ ï¼´ ï¼µ ï¼¶ ï¼· ï¼¸ ï¼¹ ï¼º ï½ ï½‚ ï½ƒ ï½„ ï½… ï½† ï½‡ ï½ˆ ï½‰ ï½Š ï½‹ ï½Œ ï½ ï½Ž ï½ ï½ ï½‘ ï½’ ï½“ ï½” ï½• ï½– ï½— ï½˜ ï½™ ï½š ï¼ ï¼‘ ï¼’ ï¼“ ï¼” ï¼• ï¼– ï¼— ï¼˜ ï¼™`,
  weird: `êª– á¥‡ á¥´ á¦” ê«€ á » á§ ê« ê ¸ ê ¹ á›• êª¶ êª‘ êª€ êª® Ï êª‡ á¥… á¦“ êª» êªŠ êªœ á­™ á¥Š êª— Æº êª– á¥‡ á¥´ á¦” ê«€ á » á§ ê« ê ¸ ê ¹ á›• êª¶ êª‘ êª€ êª® Ï êª‡ á¥… á¦“ êª» êªŠ êªœ á­™ á¥Š êª— Æº á¦² á§’ á’¿ á—± á”° Æ¼ á¦† á’£ á²– á¦`,
  small: `á´€ Ê™ á´„ á´… á´‡ êœ° É¢ Êœ Éª á´Š á´‹ ÊŸ á´ É´ á´ á´˜ Q Ê€ êœ± á´› á´œ á´  á´¡ x Ê á´¢ á´€ Ê™ á´„ á´… á´‡ êœ° É¢ Êœ Éª á´Š á´‹ ÊŸ á´ É´ á´ á´˜ Q Ê€ êœ± á´› á´œ á´  á´¡ x Ê á´¢ 0 1 2 3 4 5 6 7 8 9`,
  block: `ðŸ„° ðŸ„± ðŸ„² ðŸ„³ ðŸ„´ ðŸ„µ ðŸ„¶ ðŸ„· ðŸ„¸ ðŸ„¹ ðŸ„º ðŸ„» ðŸ„¼ ðŸ„½ ðŸ„¾ ðŸ„¿ ðŸ…€ ðŸ… ðŸ…‚ ðŸ…ƒ ðŸ…„ ðŸ…… ðŸ…† ðŸ…‡ ðŸ…ˆ ðŸ…‰ ðŸ„° ðŸ„± ðŸ„² ðŸ„³ ðŸ„´ ðŸ„µ ðŸ„¶ ðŸ„· ðŸ„¸ ðŸ„¹ ðŸ„º ðŸ„» ðŸ„¼ ðŸ„½ ðŸ„¾ ðŸ„¿ ðŸ…€ ðŸ… ðŸ…‚ ðŸ…ƒ ðŸ…„ ðŸ…… ðŸ…† ðŸ…‡ ðŸ…ˆ ðŸ…‰ 0 1 2 3 4 5 6 7 8 9`,
  block_black: `ðŸ…° ðŸ…± ðŸ…² ðŸ…³ ðŸ…´ ðŸ…µ ðŸ…¶ ðŸ…· ðŸ…¸ ðŸ…¹ ðŸ…º ðŸ…» ðŸ…¼ ðŸ…½ ðŸ…¾ ðŸ…¿ ðŸ†€ ðŸ† ðŸ†‚ ðŸ†ƒ ðŸ†„ ðŸ†… ðŸ†† ðŸ†‡ ðŸ†ˆ ðŸ†‰ ðŸ…° ðŸ…± ðŸ…² ðŸ…³ ðŸ…´ ðŸ…µ ðŸ…¶ ðŸ…· ðŸ…¸ ðŸ…¹ ðŸ…º ðŸ…» ðŸ…¼ ðŸ…½ ðŸ…¾ ðŸ…¿ ðŸ†€ ðŸ† ðŸ†‚ ðŸ†ƒ ðŸ†„ ðŸ†… ðŸ†† ðŸ†‡ ðŸ†ˆ ðŸ†‰ 0 1 2 3 4 5 6 7 8 9`,
  circle: `â’¶ â’· â’¸ â’¹ â’º â’» â’¼ â’½ â’¾ â’¿ â“€ â“ â“‚ â“ƒ â“„ â“… â“† â“‡ â“ˆ â“‰ â“Š â“‹ â“Œ â“ â“Ž â“ â“ â“‘ â“’ â““ â“” â“• â“– â“— â“˜ â“™ â“š â“› â“œ â“ â“ž â“Ÿ â“  â“¡ â“¢ â“£ â“¤ â“¥ â“¦ â“§ â“¨ â“© â“ª â‘  â‘¡ â‘¢ â‘£ â‘¤ â‘¥ â‘¦ â‘§ â‘¨`,
  serif: `A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Î± á‚¦ Æˆ Ôƒ Ò½ Ï É  Ô‹ Î¹ Ê Æ™ Ê… É± É³ Ïƒ Ï Ï™ É¾ Ê‚ Æš Ï… Ê‹ É¯ x áƒ§ È¥ 0 1 2 3 4 5 6 7 8 9`,
  serif_bold: `ð€ ð ð‚ ðƒ ð„ ð… ð† ð‡ ðˆ ð‰ ðŠ ð‹ ðŒ ð ðŽ ð ð ð‘ ð’ ð“ ð” ð• ð– ð— ð˜ ð™ ðš ð› ðœ ð ðž ðŸ ð  ð¡ ð¢ ð£ ð¤ ð¥ ð¦ ð§ ð¨ ð© ðª ð« ð¬ ð­ ð® ð¯ ð° ð± ð² ð³ ðŸŽ ðŸ ðŸ ðŸ‘ ðŸ’ ðŸ“ ðŸ” ðŸ• ðŸ– ðŸ—`,
  sans: `ð—” ð—• ð—– ð—— ð—˜ ð—™ ð—š ð—› ð—œ ð— ð—ž ð—Ÿ ð—  ð—¡ ð—¢ ð—£ ð—¤ ð—¥ ð—¦ ð—§ ð—¨ ð—© ð—ª ð—« ð—¬ ð—­ ð—® ð—¯ ð—° ð—± ð—² ð—³ ð—´ ð—µ ð—¶ ð—· ð—¸ ð—¹ ð—º ð—» ð—¼ ð—½ ð—¾ ð—¿ ð˜€ ð˜ ð˜‚ ð˜ƒ ð˜„ ð˜… ð˜† ð˜‡ ðŸ¬ ðŸ­ ðŸ® ðŸ¯ ðŸ° ðŸ± ðŸ² ðŸ³ ðŸ´ ðŸµ`,
  sans_italic: `ð˜ˆ ð˜‰ ð˜Š ð˜‹ ð˜Œ ð˜ ð˜Ž ð˜ ð˜ ð˜‘ ð˜’ ð˜“ ð˜” ð˜• ð˜– ð˜— ð˜˜ ð˜™ ð˜š ð˜› ð˜œ ð˜ ð˜ž ð˜Ÿ ð˜  ð˜¡ ð˜¢ ð˜£ ð˜¤ ð˜¥ ð˜¦ ð˜§ ð˜¨ ð˜© ð˜ª ð˜« ð˜¬ ð˜­ ð˜® ð˜¯ ð˜° ð˜± ð˜² ð˜³ ð˜´ ð˜µ ð˜¶ ð˜· ð˜¸ ð˜¹ ð˜º ð˜» 0 1 2 3 4 5 6 7 8 9`,
  sans_italic_bold: `ð˜¼ ð˜½ ð˜¾ ð˜¿ ð™€ ð™ ð™‚ ð™ƒ ð™„ ð™… ð™† ð™‡ ð™ˆ ð™‰ ð™Š ð™‹ ð™Œ ð™ ð™Ž ð™ ð™ ð™‘ ð™’ ð™“ ð™” ð™• ð™– ð™— ð™˜ ð™™ ð™š ð™› ð™œ ð™ ð™ž ð™Ÿ ð™  ð™¡ ð™¢ ð™£ ð™¤ ð™¥ ð™¦ ð™§ ð™¨ ð™© ð™ª ð™« ð™¬ ð™­ ð™® ð™¯ 0 1 2 3 4 5 6 7 8 9`,
  monospace: `ð™° ð™± ð™² ð™³ ð™´ ð™µ ð™¶ ð™· ð™¸ ð™¹ ð™º ð™» ð™¼ ð™½ ð™¾ ð™¿ ðš€ ðš ðš‚ ðšƒ ðš„ ðš… ðš† ðš‡ ðšˆ ðš‰ ðšŠ ðš‹ ðšŒ ðš ðšŽ ðš ðš ðš‘ ðš’ ðš“ ðš” ðš• ðš– ðš— ðš˜ ðš™ ðšš ðš› ðšœ ðš ðšž ðšŸ ðš  ðš¡ ðš¢ ðš£ ðŸ¶ ðŸ· ðŸ¸ ðŸ¹ ðŸº ðŸ» ðŸ¼ ðŸ½ ðŸ¾ ðŸ¿`,
  block2: `ã€Aã€‘ ã€Bã€‘ ã€Cã€‘ ã€Dã€‘ ã€Eã€‘ ã€Fã€‘ ã€Gã€‘ ã€Hã€‘ ã€Iã€‘ ã€Jã€‘ ã€Kã€‘ ã€Lã€‘ ã€Mã€‘ ã€Nã€‘ ã€Oã€‘ ã€Pã€‘ ã€Qã€‘ ã€Rã€‘ ã€Sã€‘ ã€Tã€‘ ã€Uã€‘ ã€Vã€‘ ã€Wã€‘ ã€Xã€‘ ã€Yã€‘ ã€Zã€‘ ã€aã€‘ ã€bã€‘ ã€cã€‘ ã€dã€‘ ã€eã€‘ ã€fã€‘ ã€gã€‘ ã€hã€‘ ã€iã€‘ ã€jã€‘ ã€kã€‘ ã€lã€‘ ã€mã€‘ ã€nã€‘ ã€oã€‘ ã€pã€‘ ã€qã€‘ ã€rã€‘ ã€sã€‘ ã€tã€‘ ã€uã€‘ ã€vã€‘ ã€wã€‘ ã€xã€‘ ã€yã€‘ ã€zã€‘ ã€0ã€‘ ã€1ã€‘ ã€2ã€‘ ã€3ã€‘ ã€4ã€‘ ã€5ã€‘ ã€6ã€‘ ã€7ã€‘ ã€8ã€‘ ã€9ã€‘`,
  block3: `ã€ŽAã€ ã€ŽBã€ ã€ŽCã€ ã€ŽDã€ ã€ŽEã€ ã€ŽFã€ ã€ŽGã€ ã€ŽHã€ ã€ŽIã€ ã€ŽJã€ ã€ŽKã€ ã€ŽLã€ ã€ŽMã€ ã€ŽNã€ ã€ŽOã€ ã€ŽPã€ ã€ŽQã€ ã€ŽRã€ ã€ŽSã€ ã€ŽTã€ ã€ŽUã€ ã€ŽVã€ ã€ŽWã€ ã€ŽXã€ ã€ŽYã€ ã€ŽZã€ ã€Žaã€ ã€Žbã€ ã€Žcã€ ã€Ždã€ ã€Žeã€ ã€Žfã€ ã€Žgã€ ã€Žhã€ ã€Žiã€ ã€Žjã€ ã€Žkã€ ã€Žlã€ ã€Žmã€ ã€Žnã€ ã€Žoã€ ã€Žpã€ ã€Žqã€ ã€Žrã€ ã€Žsã€ ã€Žtã€ ã€Žuã€ ã€Žvã€ ã€Žwã€ ã€Žxã€ ã€Žyã€ ã€Žzã€ ã€Ž0ã€ ã€Ž1ã€ ã€Ž2ã€ ã€Ž3ã€ ã€Ž4ã€ ã€Ž5ã€ ã€Ž6ã€ ã€Ž7ã€ ã€Ž8ã€ ã€Ž9ã€`,
  sun: `AÒ‰ Ò‰BÒ‰ Ò‰CÒ‰ Ò‰DÒ‰ Ò‰EÒ‰ Ò‰FÒ‰ Ò‰GÒ‰ Ò‰HÒ‰ Ò‰IÒ‰ Ò‰JÒ‰ Ò‰KÒ‰ Ò‰LÒ‰ Ò‰MÒ‰ Ò‰NÒ‰ Ò‰OÒ‰ Ò‰PÒ‰ Ò‰QÒ‰ Ò‰RÒ‰ Ò‰SÒ‰ Ò‰TÒ‰ Ò‰UÒ‰ Ò‰VÒ‰ Ò‰WÒ‰ Ò‰XÒ‰ Ò‰YÒ‰ Ò‰ZÒ‰ Ò‰aÒ‰ Ò‰bÒ‰ Ò‰cÒ‰ Ò‰dÒ‰ Ò‰eÒ‰ Ò‰fÒ‰ Ò‰gÒ‰ Ò‰hÒ‰ Ò‰iÒ‰ Ò‰jÒ‰ Ò‰kÒ‰ Ò‰lÒ‰ Ò‰mÒ‰ Ò‰nÒ‰ Ò‰oÒ‰ Ò‰pÒ‰ Ò‰qÒ‰ Ò‰rÒ‰ Ò‰sÒ‰ Ò‰tÒ‰ Ò‰uÒ‰ Ò‰vÒ‰ Ò‰wÒ‰ Ò‰xÒ‰ Ò‰yÒ‰ Ò‰zÒ‰ Ò‰0Ò‰ Ò‰1Ò‰ Ò‰2Ò‰ Ò‰3Ò‰ Ò‰4Ò‰ Ò‰5Ò‰ Ò‰6Ò‰ Ò‰7Ò‰ Ò‰8Ò‰ Ò‰9Ò‰`,
  strikethrough: `AÌ¶ Ì¶BÌ¶ Ì¶CÌ¶ Ì¶DÌ¶ Ì¶EÌ¶ Ì¶FÌ¶ Ì¶GÌ¶ Ì¶HÌ¶ Ì¶IÌ¶ Ì¶JÌ¶ Ì¶KÌ¶ Ì¶LÌ¶ Ì¶MÌ¶ Ì¶NÌ¶ Ì¶OÌ¶ Ì¶PÌ¶ Ì¶QÌ¶ Ì¶RÌ¶ Ì¶SÌ¶ Ì¶TÌ¶ Ì¶UÌ¶ Ì¶VÌ¶ Ì¶WÌ¶ Ì¶XÌ¶ Ì¶YÌ¶ Ì¶ZÌ¶ Ì¶aÌ¶ Ì¶bÌ¶ Ì¶cÌ¶ Ì¶dÌ¶ Ì¶eÌ¶ Ì¶fÌ¶ Ì¶gÌ¶ Ì¶hÌ¶ Ì¶iÌ¶ Ì¶jÌ¶ Ì¶kÌ¶ Ì¶lÌ¶ Ì¶mÌ¶ Ì¶nÌ¶ Ì¶oÌ¶ Ì¶pÌ¶ Ì¶qÌ¶ Ì¶rÌ¶ Ì¶sÌ¶ Ì¶tÌ¶ Ì¶uÌ¶ Ì¶vÌ¶ Ì¶wÌ¶ Ì¶xÌ¶ Ì¶yÌ¶ Ì¶zÌ¶ Ì¶0Ì¶ Ì¶1Ì¶ Ì¶2Ì¶ Ì¶3Ì¶ Ì¶4Ì¶ Ì¶5Ì¶ Ì¶6Ì¶ Ì¶7Ì¶ Ì¶8Ì¶ Ì¶9Ì¶`,
  underline: `AÌ² Ì²BÌ² Ì²CÌ² Ì²DÌ² Ì²EÌ² Ì²FÌ² Ì²GÌ² Ì²HÌ² Ì²IÌ² Ì²JÌ² Ì²KÌ² Ì²LÌ² Ì²MÌ² Ì²NÌ² Ì²OÌ² Ì²PÌ² Ì²QÌ² Ì²RÌ² Ì²SÌ² Ì²TÌ² Ì²UÌ² Ì²VÌ² Ì²WÌ² Ì²XÌ² Ì²YÌ² Ì²ZÌ² Ì²aÌ² Ì²bÌ² Ì²cÌ² Ì²dÌ² Ì²eÌ² Ì²fÌ² Ì²gÌ² Ì²hÌ² Ì²iÌ² Ì²jÌ² Ì²kÌ² Ì²lÌ² Ì²mÌ² Ì²nÌ² Ì²oÌ² Ì²pÌ² Ì²qÌ² Ì²rÌ² Ì²sÌ² Ì²tÌ² Ì²uÌ² Ì²vÌ² Ì²wÌ² Ì²xÌ² Ì²yÌ² Ì²zÌ² Ì²0Ì² Ì²1Ì² Ì²2Ì² Ì²3Ì² Ì²4Ì² Ì²5Ì² Ì²6Ì² Ì²7Ì² Ì²8Ì² Ì²9Ì²`
};

function getFont(fontId, text) {
  const lookup = `A B C D E F G H I J K L M N O P Q R S T U V W X Y Z a b c d e f g h i j k l m n o p q r s t u v w x y z 0 1 2 3 4 5 6 7 8 9`.split(' ');
  return [...text].map(c => FONTS[fontId].split(' ')[lookup.indexOf(c)] || c).join('');
}
```